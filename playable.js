!function(){"use strict";var e,t={6139:function(e){e.exports=[]},4263:function(e,t,n){n.r(t),n.d(t,{ParticleEffectDisplayObject:function(){return d}});n(489),n(2419),n(4819),n(5003);var r=n(6783),o=n(6448),i=n(7274),a=n(4175);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(d,e);var t,n,r,f=l(d);function d(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var n=e.data,r=e.x,a=void 0===r?0:r,u=e.y,c=void 0===u?0:u,s=e.scale,l=void 0===s?new i.E9(1,1):s;return(t=f.call(this,n,o.xE.from)).position.set(a,c),t.scale.copyFrom(l),t}return t=d,(n=[{key:"start",value:function(){c(p(d.prototype),"start",this).call(this),a.vB.shared.add(this.update,this)}},{key:"update",value:function(){c(p(d.prototype),"update",this).call(this,a.vB.shared.deltaMS)}},{key:"destroy",value:function(){a.vB.shared.remove(this.update,this),c(p(d.prototype),"destroy",this).call(this)}}])&&u(t.prototype,n),r&&u(t,r),d}(r.B)},3430:function(e,t,n){n.r(t),n.d(t,{SpineDisplayObject:function(){return d}});n(489),n(2419),n(4819),n(5003),n(3593);var r=n(4175);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n,r){return(i="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var o,i=c(e,t);if(i){if((o=Object.getOwnPropertyDescriptor(i,t)).set)return o.set.call(r,n),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(r,t)){if(!o.writable)return!1;o.value=n,Object.defineProperty(r,t,o)}else!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(r,t,n);return!0})(e,t,n,r)}function a(e,t,n,r,o){if(!i(e,t,n,r||e)&&o)throw new Error("failed to set property");return n}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(f,e);var t,n,i,c=l(f);function f(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),c.call(this,e)}return t=f,(n=[{key:"update",value:function(){u(p(f.prototype),"update",this).call(this,r.vB.shared.deltaMS/1e3)}},{key:"destroy",value:function(){r.vB.shared.remove(this.update,this),u(p(f.prototype),"destroy",this).call(this)}},{key:"state",get:function(){return u(p(f.prototype),"state",this)},set:function(e){a(p(f.prototype),"state",e,this,!0)}}])&&o(t.prototype,n),i&&o(t,i),f}(n(1987).Spine)},6381:function(e,t,n){var r,o=n(6016),i=n(3379),a=n.n(i),u=n(5970),c={insert:"head",singleton:!1};a()(u.Z,c),u.Z.locals;!function(e){e.init="GameEventInit",e.preload="GameEventPreload",e.start="GameEventStart",e.loadProgress="GameEventLoadProgress",e.load="GameEventLoad",e.resize="GameEventResize",e.firstInteraction="GameEventFirstInteraction",e.resume="GameEventResume",e.pause="GameEventPause",e.configsUpdate="GameEventConfigsUpdate"}(r||(r={}));n(489),n(2419);var s=n(8714),l=(n(2222),n(2526),n(1817),n(1539),n(6992),n(3948),n(1038),n(7042),n(6448)),f=n(7274),p=(n(3187),n(5009),n(5166),n(1538)),d=n(4175);var h=function(e,t){return window.matchMedia("(orientation: portrait)").matches?t:window.matchMedia("(orientation: landscape)").matches?e:void 0},y=function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=1e3*e,u=function e(){(a-=d.vB.shared.deltaMS)<=0&&(t.call.apply(t,[n].concat(o)),d.vB.shared.remove(e))};return d.vB.shared.add(u),u},v=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];y.apply(void 0,[d.vB.shared.deltaMS/1e3,e,t].concat(r))};function b(e){var t=e.text,n=e.style,r=e.x,o=void 0===r?0:r,i=e.y,a=void 0===i?0:i,u=e.anchor,c=void 0===u?new f.E9(.5,.5):u,s=new p.xv(t,n);return s.anchor.copyFrom(c),s.position.set(o,a),s}n(3290);var m=function(){return{name:"background",cells:[{name:"bg",bounds:{x:0,y:0,width:1,height:1},scale:s.P1.fill}]}},g=function(){return{name:"background",cells:[{name:"bg",bounds:{x:0,y:0,width:1,height:1},scale:s.P1.fill}]}},_=function(){return{name:"foreground",cells:[{name:"logo",bounds:{x:0,height:.2},offset:{x:40},align:s.Oo.leftCenter},{name:"sound",bounds:{x:0,height:.1},offset:{x:40},align:s.Oo.leftCenter},{name:"tutorial",bounds:{x:0,y:.7}},{name:"cta_logo",bounds:{x:0,y:0,width:1,height:1}}]}},w=function(){return{name:"foreground",cells:[{name:"logo",bounds:{x:0,height:.14}},{name:"sound",bounds:{x:0,height:.06}},{name:"tutorial",bounds:{x:0,y:.5}},{name:"cta_logo",bounds:{x:0,y:0,width:1,height:1}}]}},O=function(){return{debug:{color:3131648},name:"game",cells:[{name:"level",bounds:{x:0,y:0,width:1,height:1},padding:{x:.2,y:.16,width:.6,height:.7}}]}},x=function(){return{debug:{color:3131648},name:"game",cells:[{name:"level",bounds:{x:0,y:0,width:1,height:1},padding:{x:.05,y:.2,width:.9,height:.6}}]}},k=function(){return{name:"main",bounds:game.viewBounds}},P=function(){return{name:"main",bounds:game.viewBounds}},j=function(){return{debug:{color:4360181},name:"ui",cells:[{name:"level",bounds:{x:0,width:.5,y:0,height:.08}},{name:"wave",bounds:{x:.5,width:.5,y:0,height:.08}},{name:"hp",bounds:{x:0,y:.08,height:.08}},{name:"damage",bounds:{x:0,y:.86,height:.14}}]}},H=function(){return{debug:{color:4360181},name:"ui",cells:[{name:"level",bounds:{x:0,width:.5,y:0,height:.15}},{name:"wave",bounds:{x:.5,width:.5,y:0,height:.15}},{name:"hp",bounds:{x:0,y:.15,height:.05}},{name:"damage",bounds:{x:0,y:.8,height:.2}}]}},R=n(8215);function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(i,e);var t,n,r,o=E(i);function i(){var e,t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t=U(e),r=void 0,(n="_bg")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e.name="BackgroundView",e._createBg(),e}return t=i,(n=[{key:"getGridConfig",value:function(){return h(m,g).call(null)}},{key:"_createBg",value:function(){var e=new R.TC;e.beginFill(14737632),e.drawRect(0,0,1,1),e.endFill(),this.setChild("bg",e)}}])&&B(t.prototype,n),r&&B(t,r),i}(s.D3);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D,$,q,F,G,N,Z,J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(i,e);var t,n,r,o=A(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="ForegroundView",e}return t=i,(n=[{key:"getGridConfig",value:function(){return h(_,w).call(null)}},{key:"_build",value:function(){}}])&&I(t.prototype,n),r&&I(t,r),i}(s.D3);!function(e){e.hpUpdate="BossModelHpUpdate",e.defeatUpdate="BossModelDefeatUpdate"}(D||(D={})),function(e){e.hpUpdate="BotModelHpUpdate",e.defeatUpdate="BotModelDefeatUpdate"}($||($={})),function(e){e.levelUpdate="GameModelLevelUpdate",e.levelIndexUpdate="GameModelLevelIndexUpdate"}(q||(q={})),function(e){e.bossUpdate="LevelModelBossUpdate",e.botUpdate="LevelModelBotUpdate",e.botIndexUpdate="LevelModelBotIndexUpdate"}(F||(F={})),function(e){e.uuidUpdate="ObservableModelUuidUpdate"}(G||(G={})),function(e){e.damageUpdate="PlayerModelDamageUpdate"}(N||(N={})),function(e){e.playerUpdate="StorePlayerUpdate",e.gameUpdate="StoreGameUpdate"}(Z||(Z={}));n(4819),n(5003);function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return(Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var o=te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ne,re,oe,ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(a,e);var t,n,r,i=Y(a);function a(){return W(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"destroy",value:function(e){o.q.event.removeListenersOf(this),Q(te(a.prototype),"destroy",this).call(this,e)}}])&&K(t.prototype,n),r&&K(t,r),a}(n(6993).W2);function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fe(e);if(t){var o=fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return se(this,n)}}function se(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?le(e):t}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}s.D3.prototype.destroy=ie.prototype.destroy,function(e){e.click="MainViewClick"}(ne||(ne={})),function(e){e.click="BotViewEventClick"}(re||(re={})),function(e){e.click="BossViewEventClick"}(oe||(oe={}));var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(a,e);var t,n,r,i=ce(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).name="BotView",e.$build(),e.$makeInteractive(),o.q.event.on($.hpUpdate,e.$onHpUpdate,le(e)),e}return t=a,(n=[{key:"$onHpUpdate",value:function(e){}},{key:"$build",value:function(){var e=new R.TC;e.beginFill(Math.floor(16777215*Math.random())),e.drawRect(0,0,400,400),e.endFill(),this.addChild(e)}},{key:"$makeInteractive",value:function(){this.interactive=!0,this.on("pointerdown",this.$onPointerDown,this)}},{key:"$onPointerDown",value:function(){o.q.event.emit(re.click)}}])&&ae(t.prototype,n),r&&ae(t,r),a}(ie);function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var o=be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(a,e);var t,n,r,i=ye(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).name="BossView",e}return t=a,(n=[{key:"$build",value:function(){var e=new R.TC;e.beginFill(Math.floor(16777215*Math.random())),e.drawCircle(0,0,300),e.endFill(),this.addChild(e)}},{key:"$onPointerDown",value:function(){o.q.event.emit(oe.click)}}])&&de(t.prototype,n),r&&de(t,r),a}(pe);function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?xe(e):t}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(a,e);var t,n,r,i=we(a);function a(){var e,t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),e=i.call(this),t=xe(e),r=void 0,(n="_botView")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e.name="LevelView",o.q.event.on(F.botUpdate,e._onBotUpdate,xe(e)).on(F.bossUpdate,e._onBossUpdate,xe(e)),e}return t=a,(n=[{key:"_onBotUpdate",value:function(e){e?this._createBotView():this._destroyBotView()}},{key:"_createBotView",value:function(){this._botView=new pe,this.addChild(this._botView)}},{key:"_destroyBotView",value:function(){this._botView.destroy()}},{key:"_onBossUpdate",value:function(e){e?this._createBossView():this._destroyBossView()}},{key:"_createBossView",value:function(){this._botView=new me,this.addChild(this._botView)}},{key:"_destroyBossView",value:function(){this._botView.destroy()}}])&&ge(t.prototype,n),r&&ge(t,r),a}(ie);function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ee(e);if(t){var o=Ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Ce(e):t}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(a,e);var t,n,r,i=Re(a);function a(){var e,t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),e=i.call(this),t=Ce(e),r=void 0,(n="_levelView")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e.name="GameView",o.q.event.on(q.levelUpdate,e._onLevelUpdate,Ce(e)).on(F.botUpdate,e._onBotUpdate,Ce(e)).on(F.bossUpdate,e._onBossUpdate,Ce(e)),e}return t=a,(n=[{key:"getGridConfig",value:function(){return h(O,x).call(null)}},{key:"_onLevelUpdate",value:function(e){e?this._createLevelView():this._destroyLevelView()}},{key:"_createLevelView",value:function(){this._levelView=new Pe,this.setChild("level",this._levelView)}},{key:"_destroyLevelView",value:function(){this._levelView.destroy()}},{key:"_onBotUpdate",value:function(){var e=this;v((function(){return e.rebuild()}))}},{key:"_onBossUpdate",value:function(){var e=this;v((function(){return e.rebuild()}))}}])&&je(t.prototype,n),r&&je(t,r),a}(s.D3),Ue=(n(4723),n(5827),n(5306),n(4078)),Le=n.n(Ue),Te=JSON.parse('{"HP":{"en":"%{hp}HP"},"level":{"en":"Level %{level}"},"bot":{"en":"Bot %{bot}"},"boss":{"en":"Boss"},"damage":{"en":"Damage %{damage}"}}');function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=function(){var e;if(navigator){if(navigator.userAgent&&(e=navigator.userAgent.match(/android.*\W(\w\w)-(\w\w)\W/i)))return e[1];if(navigator.languages)return navigator.languages[0];if(navigator.language)return navigator.language;if(navigator.browserLanguage)return navigator.browserLanguage;if(navigator.systemLanguage)return navigator.systemLanguage;if(navigator.userLanguage)return navigator.userLanguage}return"en"},Ve=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Me(this,"_polyglot",void 0),Me(this,"_language",void 0),Me(this,"_iso6391Language",void 0),this._polyglot=new(Le())({locale:Ae()}),this._language=this._polyglot.locale(),this._iso6391Language=this._getISO6391Language(),this._setPhrases()}var t,n,r;return t=e,(n=[{key:"t",value:function(e,t){return this._polyglot.t(e,t)}},{key:"has",value:function(e){return this._polyglot.has(e)}},{key:"locale",value:function(e){this._language=this._polyglot.locale(e);var t=this._getISO6391Language();return t!==this._iso6391Language&&(this._iso6391Language=t,this._setPhrases()),this._language}},{key:"_setPhrases",value:function(){var e=this,t={};t=Object.keys(Te).reduce((function(n,r){var o=Te[r];return n[r]=Object.prototype.hasOwnProperty.call(o,e._iso6391Language)?o[e._iso6391Language]:o.en,t}),t),this._polyglot.replace(t)}},{key:"_getISO6391Language",value:function(){return this._language.substr(0,2)}}])&&Ie(t.prototype,n),r&&Ie(t,r),e}()),ze="HP",De="level",$e="bot",qe="boss",Fe="damage",Ge=[{bots:{count:8,startHp:20,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:80,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}},{bots:{count:8,startHp:800,incrementHp:{min:5,max:10}},boss:{incrementHp:{min:50,max:100}}}];n(7327),n(4747),n(9337);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We={damage:1},Ke=function(e,t){var n=Math.ceil(e),r=Math.floor(t);return Math.floor(Math.random()*(r-n+1))+n};n(9714);function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye,et=(Ye=0,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(Ye+=1)<10?`0${Ye}`:Ye;return`${e}${t.toString()}`}),tt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xe(this,"__name__",void 0),Xe(this,"_uuid",void 0),this.__name__=t,this._uuid=et(this.__name__)}var t,n,r;return t=e,(n=[{key:"uuid",get:function(){return this._uuid}},{key:"makeObservable",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=o.q.observe).makeObservable.apply(e,[this].concat(n))}},{key:"createObservable",value:function(e,t){o.q.observe.createObservable(this,e,t)}},{key:"removeObservable",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=o.q.observe).removeObservable.apply(e,[this].concat(n))}},{key:"initialize",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}},{key:"destroy",value:function(){}}])&&Qe(t.prototype,n),r&&Qe(t,r),e}();function nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var o=ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return at(this,n)}}function at(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?ut(e):t}function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(i,e);var t,n,r,o=it(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BotModel";return nt(this,i),st(ut(e=o.call(this,t)),"$hp",void 0),st(ut(e),"$defeat",!1),e.makeObservable("$hp","$defeat"),e}return t=i,(n=[{key:"hp",get:function(){return this.$hp}},{key:"defeat",get:function(){return this.$defeat}},{key:"initialize",value:function(e){this.$hp=e,this.$defeat=this.$hp<=0}},{key:"hit",value:function(e){this.$hp=Math.max(0,this.$hp-e),this.$defeat=this.$hp<=0}}])&&rt(t.prototype,n),r&&rt(t,r),i}(tt);function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt(e);if(t){var o=yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(i,e);var t,n,r,o=dt(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,"BossModel")}return t=i,(n=[{key:"hp",get:function(){return this.$hp}},{key:"defeat",get:function(){return this.$defeat}}])&&ft(t.prototype,n),r&&ft(t,r),i}(lt);function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?wt(e):t}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(i,e);var t,n,r,o=gt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,"LevelModel"))._levelConfig=e,xt(wt(t),"_boss",null),xt(wt(t),"_bot",null),xt(wt(t),"_botIndex",-1),xt(wt(t),"_botConfigs",void 0),xt(wt(t),"_bossConfig",void 0),t._botConfigs=t._levelConfig.bots,t._bossConfig=t._levelConfig.boss,t.makeObservable("_bot","_boss"),t}return t=i,(n=[{key:"boss",get:function(){return this._boss}},{key:"bot",get:function(){return this._bot}},{key:"botIndex",get:function(){return this._botIndex}},{key:"initialize",value:function(){this.nextBot()}},{key:"destroy",value:function(){this.destroyBot(),this.destroyBoss()}},{key:"hasNextBot",value:function(){return this._botIndex<this._botConfigs.count-1}},{key:"nextBot",value:function(){this.destroyBot(),this._botIndex+=1,this._bot=new lt,this._bot.initialize(Math.ceil(this._calculateBotHp()))}},{key:"setBoss",value:function(){this.destroyBot(),this._boss=new vt,this._boss.initialize(Math.ceil(this._calculateBossHp()))}},{key:"destroyBot",value:function(){this._bot&&this._bot.destroy(),this._bot=null}},{key:"destroyBoss",value:function(){this._boss&&this._boss.destroy(),this._boss=null}},{key:"_calculateBotHp",value:function(){var e=this._botConfigs,t=e.incrementHp,n=e.startHp,r=t.min,o=t.max,i=Ke(r,o);return n+n*this._botIndex*i/100}},{key:"_calculateBossHp",value:function(){var e=this._calculateBotHp(),t=this._bossConfig.incrementHp,n=t.min,r=t.max;return e+e*Ke(n,r)/100}}])&&bt(t.prototype,n),r&&bt(t,r),i}(tt);function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ct(e);if(t){var o=Ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Bt(e):t}function Bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(i,e);var t,n,r,o=Ht(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,"GameModel"))._levelConfigs=e,Et(Bt(t),"_level",null),Et(Bt(t),"_levelIndex",-1),t.makeObservable("_level"),t}return t=i,(n=[{key:"level",get:function(){return this._level}},{key:"levelIndex",get:function(){return this._levelIndex}},{key:"initialize",value:function(){this.nextLevel()}},{key:"hasNextLevel",value:function(){return this._levelIndex<this._levelConfigs.length-1}},{key:"nextLevel",value:function(){this._level&&this._level.destroy(),this._level=null,this._levelIndex+=1;var e=this._levelConfigs[this._levelIndex];this._level=new kt(e),this._level.initialize()}}])&&Pt(t.prototype,n),r&&Pt(t,r),i}(tt);function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=At(e);if(t){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return It(this,n)}}function It(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Mt(e):t}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(i,e);var t,n,r,o=Tt(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,"PlayerModel"))._playerConfig=e,n=Mt(t),a=void 0,(r="_damage")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.makeObservable("_damage"),t}return t=i,(n=[{key:"damage",get:function(){return this._damage},set:function(e){this._damage=e}},{key:"initialize",value:function(){this._damage=this._playerConfig.damage}}])&&Ut(t.prototype,n),r&&Ut(t,r),i}(tt);function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qt(this,n)}}function qt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Ft(e):t}function Ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(i,e);var t,n,r,o=$t(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Nt(Ft(e=o.call(this,"Store")),"_player",null),Nt(Ft(e),"_game",null),e.makeObservable(),e}return t=i,(n=[{key:"player",get:function(){return this._player},set:function(e){this._player=e}},{key:"game",get:function(){return this._game},set:function(e){this._game=e}},{key:"initializePlayerModel",value:function(){this._player=new Vt(We),this._player.initialize()}},{key:"destroyPlayerModel",value:function(){this._player.destroy(),this._player=null}},{key:"initializeGameModel",value:function(){this._game=new St(Ge),this._game.initialize()}},{key:"destroyPlayModel",value:function(){this._game.destroy(),this._game=null}}])&&zt(t.prototype,n),r&&zt(t,r),i}(tt));function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var o=Yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qt(this,n)}}function Qt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Xt(e):t}function Xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(a,e);var t,n,r,i=Kt(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),en(Xt(e=i.call(this)),"_hp",void 0),en(Xt(e),"_level",void 0),en(Xt(e),"_wave",void 0),en(Xt(e),"_damage",void 0),e.name="UIView",o.q.event.on(Z.gameUpdate,e._onGameUpdate,Xt(e)).on(Z.playerUpdate,e._onPlayerUpdate,Xt(e)).on(q.levelUpdate,e._onLevelUpdate,Xt(e)).on(N.damageUpdate,e._onDamageUpdate,Xt(e)).on(F.botUpdate,e._onBotUpdate,Xt(e)).on(F.bossUpdate,e._onBossUpdate,Xt(e)).on($.hpUpdate,e._onHpUpdate,Xt(e)).on(D.hpUpdate,e._onHpUpdate,Xt(e)),e}return t=a,(n=[{key:"getGridConfig",value:function(){return h(j,H).call(null)}},{key:"_onGameUpdate",value:function(){this._level=b({text:Ve.t(De,{level:0}),style:new p.pn({fontSize:44,fill:"#000000",dropShadow:!0,dropShadowAngle:90,dropShadowDistance:2,dropShadowBlur:5,dropShadowColor:"#ffffff"})}),this.setChild("level",this._level),this._wave=b({text:Ve.t(De,{level:0}),style:new p.pn({fontSize:44,fill:"#000000",dropShadow:!0,dropShadowAngle:90,dropShadowDistance:2,dropShadowBlur:5,dropShadowColor:"#ffffff"})}),this.setChild("wave",this._wave),this._hp=b({text:Ve.t(ze,{hp:0}),style:new p.pn({fontSize:44,fill:"#d68800",dropShadow:!0,dropShadowAngle:90,dropShadowDistance:2,dropShadowBlur:5,dropShadowColor:"#ffffff"})}),this.setChild("hp",this._hp)}},{key:"_onPlayerUpdate",value:function(){this._damage=b({text:Ve.t(De,{level:0}),style:new p.pn({fontSize:44,fill:"#000000",dropShadow:!0,dropShadowAngle:90,dropShadowDistance:2,dropShadowBlur:5,dropShadowColor:"#ffffff"})}),this.setChild("damage",this._damage)}},{key:"_onLevelUpdate",value:function(){this._level.text=Ve.t(De,{level:Zt.game.levelIndex+1})}},{key:"_onBotUpdate",value:function(e){e&&(this._wave.text=Ve.t($e,{bot:Zt.game.level.botIndex+1}))}},{key:"_onBossUpdate",value:function(e){e&&(this._wave.text=Ve.t(qe))}},{key:"_onHpUpdate",value:function(e){this._hp.text=Ve.t(ze,{hp:e})}},{key:"_onDamageUpdate",value:function(e){this._damage.text=Ve.t(Fe,{damage:e})}}])&&Jt(t.prototype,n),r&&Jt(t,r),a}(s.D3);function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cn(e);if(t){var o=cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return an(this,n)}}function an(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?un(e):t}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(u,e);var t,n,i,a=on(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this))._build(),e.name="MainView",o.q.event.on(r.resize,e.onResize,un(e)),e}return t=u,(n=[{key:"onResize",value:function(){this.rebuild(this.getGridConfig()),this._updateScale()}},{key:"getGridConfig",value:function(){return h(k,P).call(null)}},{key:"_build",value:function(){this._updateScale(),this.setChild("main",new T),this.setChild("main",new Se),this.setChild("main",new tn),this.setChild("main",new J)}},{key:"_updateScale",value:function(){this.scale.set(game.viewScale)}}])&&nn(t.prototype,n),i&&nn(t,i),u}(s.D3),ln=function(){game.stage.addChild(new sn)},fn=(n(8674),n(5666),n(285),n(4765),n(6498));function pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vn=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yn(this,"_pane",void 0),yn(this,"_levelsPane",void 0),yn(this,"_playerPane",void 0),e._setStyle(),this._pane=new fn.Pane({title:"Configs",expanded:!0});var n=pn(this._pane.addTab({pages:[{title:"Levels"},{title:"Player"}]}).pages,2);this._levelsPane=n[0],this._playerPane=n[1],this._addPlayerBindings(),this._addLevelsBindings(),this._addActionBindings(),this._pane.on("change",(function(){game.updateConfigs()})),document.addEventListener("keydown",(function(e){"c"===e.key&&t._togglePane()})),"true"===sessionStorage.__tweakpane_hidden__&&this._togglePane()}var t,n,r;return t=e,r=[{key:"_setStyle",value:function(){var e=document.createElement("style");e.innerHTML="\n            .tp-dfwv {\n                min-width: 360px;\n            }",document.getElementsByTagName("head")[0].appendChild(e)}}],(n=[{key:"_addPlayerBindings",value:function(){this._playerPane.addInput(We,"damage",{step:1})}},{key:"_addLevelsBindings",value:function(){var e=this;Ge.forEach((function(t,n){var r=pn(e._levelsPane.addFolder({title:`${n+1}`,expanded:0===n}).addTab({pages:[{title:"Bots"},{title:"Boss"}]}).pages,2),o=r[0],i=r[1],a=t.bots,u=t.boss;o.addInput(a,"count",{disabled:!0,step:1}),o.addInput(a,"startHp",{label:"start hp",step:1}),o.addInput(a.incrementHp,"min",{label:"min hp increment %",step:1}),o.addInput(a.incrementHp,"max",{label:"max hp increment %",step:1}),i.addInput(u.incrementHp,"min",{label:"min hp increment %",step:1}),i.addInput(u.incrementHp,"max",{label:"max hp increment %",step:1}),e._levelsPane.addSeparator()})),document.getElementsByClassName("tp-brkv tp-v-fst tp-v-vfst tp-v-lst")[0].classList.add("levels")}},{key:"_addActionBindings",value:function(){var e=this;this._pane.addButton({title:"Apply"}).on("click",(function(){return e._apply()})),this._pane.addSeparator(),this._pane.addButton({title:"Reset"}).on("click",(function(){return e._reset()}))}},{key:"_apply",value:function(){game.saveConfigs()}},{key:"_reset",value:function(){game.resetConfigs();var e=(new URLSearchParams).toString();window.location.search=e}},{key:"_togglePane",value:function(){this._pane.hidden=!this._pane.hidden,sessionStorage.__tweakpane_hidden__=this._pane.hidden}}])&&hn(t.prototype,n),r&&hn(t,r),e}();function bn(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var mn=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new vn;case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bn(i,r,o,a,u,"next",e)}function u(e){bn(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),gn=function(){Zt.initializeGameModel()},_n=function(){Zt.initializePlayerModel()},wn=function(){o.q.command.execute(_n).execute(gn)},On=function(e,t){e.hit(t)},xn=function(){var e=Zt.player.damage,t=Zt.game.level.boss;o.q.command.payload(t,e).execute(On)},kn=function(e){return e.defeat},Pn=function(){return!Zt.game.hasNextLevel()},jn=function(){Zt.game.nextLevel()},Hn=function(){var e=Zt.game.level.boss;o.q.command.payload(e).guard(kn,o.q.not(Pn)).execute(jn)},Rn=function(){var e=Zt.player.damage,t=Zt.game.level.bot;o.q.command.payload(t,e).execute(On)},Bn=function(e){return e.defeat},Cn=function(){return!Zt.game.level.hasNextBot()},En=function(){Zt.game.level.setBoss()},Sn=function(){Zt.game.level.nextBot()},Un=function(){var e=Zt.game.level.bot;o.q.command.payload(e).guard(Bn,Cn).execute(En).payload(e).guard(Bn,o.q.not(Cn)).execute(Sn)},Ln=function(){Zt.player.damage=We.damage},Tn=function(){o.q.command.on(r.configsUpdate,Ln).on(re.click,Rn).on(oe.click,xn).on($.defeatUpdate,Un).on(D.defeatUpdate,Hn)},In=function(){o.q.command.execute(mn).execute(Tn).execute(ln).execute(wn)},Mn=function(){o.q.command.on(r.start,In)},An=n(4535),Vn=n(5431),zn=JSON.parse('{"spine":true,"legologger":false,"variation":{"image":{"bg/play/bg.jpg":{"description":"Game Background","options":["bg/play/bg_alt.jpg"],"active":-1},"bg/cta/bg.jpg":{"description":"CTA Background","options":["bg/cta/bg_alt.jpg"],"active":0},"main/ui/cta_icon.png":{"description":"CTA icon","options":["main/ui/cta_icon_alt1.png","main/ui/cta_icon_alt2.png"],"active":0}},"module":{"cta":{"description":"CTA style","options":{"traditional":{"path":"src/views/cta-traditional","description":"Traditional CTA","assets":[]},"starRating":{"path":"src/views/cta-star-rating","description":"Star Rating CTA","assets":["ui/star_full.png","ui/star_half.png","ui/cta_icon.png"]}},"active":"traditional"}}},"size":{"landscape":{"width":1390,"height":640},"portrait":{"width":640,"height":1390}},"compression":{"default":{"assets/atlases/**/*.jpg":80,"assets/atlases/**/*.png":80}}}'),Dn=(n(6699),n(9826),n(9720),n(1516)),$n=n(3151),qn=n(6603),Fn=n(5933),Gn=n.n(Fn);n(1249);function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach((function(t){Jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wn=Zn(Zn({atlases:{},particles:{},spines:{}},function(){var e=n(8299).Z,t=n(6139),r=2===e.families.length?[]:new Function("return ["+e.families+"]")(),o={};if(r.length>0&&(o.custom={families:r}),t.length>0){var i=t.map((function(e){return`${e.family}:${e.variants&&e.variants.length>0?e.variants.join(","):"400"}:${e.subsets&&e.subsets.length>0?e.subsets.join(","):"latin-ext"}`}));o.google={families:i}}return{fonts:{config:Zn({},o)}}}()),{sound:{}}),Kn={},Qn={};function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function tr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){er(i,r,o,a,u,"next",e)}function u(e){er(i,r,o,a,u,"throw",e)}a(void 0)}))}}function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ur(e);if(t){var o=ur(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ir(this,n)}}function ir(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?ar(e):t}function ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sr,lr=["png","jpg","jpeg"];function fr(e,t){if(lr.includes(e.extension)){var n=Wn.atlases,r=e.url,o=Object.keys(n).find((function(e){return n[e].image===r}));if(o){var i=n[o],a=i.json,u=i.image;new $n.c(l.VL.from(u),a).parse((function(){return t()}))}else t()}else t()}!function(e){e.region="region",e.mesh="mesh"}(sr||(sr={}));var pr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(c,e);var t,r,o,i,a,u=or(c);function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),cr(ar(e=u.call(this)),"_loader",void 0),cr(ar(e),"_loading",!1),e._loader=Dn.aN.shared,e._loader.use(fr),e}return t=c,(r=[{key:"loading",get:function(){return this._loading}},{key:"load",value:(a=tr(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=tr(regeneratorRuntime.mark((function e(r,o){var i,a,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n._loading=!0,e.t0=regeneratorRuntime.keys(Wn);case 2:if((e.t1=e.t0()).done){e.next=21;break}i=e.t1.value,e.t2=i,e.next="fonts"===e.t2?7:"sound"===e.t2?10:"spines"===e.t2?13:"atlases"===e.t2?14:"particles"===e.t2?17:18;break;case 7:return e.next=9,n._loadFonts(Wn[i]);case 9:return e.abrupt("break",19);case 10:return e.next=12,n._loadSounds(Wn[i]);case 12:case 13:return e.abrupt("break",19);case 14:return e.next=16,n._loadAtlases(Wn[i]);case 16:case 17:return e.abrupt("break",19);case 18:o(`Unknown asset type "${i}"`);case 19:e.next=2;break;case 21:a=n._loader.onProgress.add((function(e){return t(e.progress)})),u=n._loader.onComplete.add(function(){var e=tr(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n._loader.onProgress.detach(a),n._loader.onProgress.detach(u),n._loader.onProgress.detach(c),n._createSpines(Wn.spines),n._loading=!1,r(t.resources);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c=n._loader.onError.add((function(){n._loader.onProgress.detach(a),n._loader.onProgress.detach(u),n._loader.onProgress.detach(c),o("Can't load the asset.")})),n._loader.load();case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"_loadFonts",value:function(e){return 0===Object.entries(e.config).length?Promise.resolve():new Promise((function(t,n){Gn().load(Yn(Yn({},e.config),{},{active:function(){t()},inactive:function(){n("None of the fonts could be loaded.")}}))}))}},{key:"_loadSounds",value:(i=tr(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Object.entries(t).length){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.abrupt("return",new Promise((function(e){n(9734).sound.add("spritemap",{url:t.url,sprites:t.spritemap,preload:!0,loaded:e})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"_createSpines",value:function(e){var t=function(t){var r=e[t],o=r.animations,i=r.slots,a=r.skins,u=[];Object.keys(o).forEach((function(e){var t=o[e].slots,n=void 0===t?{}:t;Object.keys(n).forEach((function(e){var t=n[e].attachment;(void 0===t?[]:t).forEach((function(e){var t=e.name;u.includes(t)||u.push(t)}))}))})),i.forEach((function(e){var t=e.attachment;u.includes(t)||u.push(t)})),a.forEach((function(e){var t=e.attachments;Object.keys(t).forEach((function(e){var n=t[e];Object.keys(n).forEach((function(e){var t=n[e].type;if(!t||t===sr.region||t===sr.mesh){var r=e,o=n[e];Object.prototype.hasOwnProperty.call(o,"path")&&(r=o.path),u.includes(r)||u.push(r)}}))}))}));var c=n(1987),s=c.TextureAtlas,f=c.AtlasAttachmentLoader,p=c.SkeletonJson,d=new s,h={};u.forEach((function(e){Object.prototype.hasOwnProperty.call(Qn,e)&&(h[e]=l.xE.from(Qn[e]))})),d.addTextureHash(h,!0);var y=new p(new f(d));Kn[t].skeleton=y.readSkeletonData(r)};for(var r in e)t(r)}},{key:"_loadAtlases",value:function(e){var t=this;return 0===Object.entries(e).length||Object.keys(e).forEach((function(n){t._loader.add(e[n].image)})),Promise.resolve()}}])&&nr(t.prototype,r),o&&nr(t,o),c}(qn.vp),dr=n(9483),hr=n.n(dr);function yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function br(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function mr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){br(i,r,o,a,u,"next",e)}function u(e){br(i,r,o,a,u,"throw",e)}a(void 0)}))}}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _r=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=void 0,(n="_loading")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,hr().config({name:"clicker",version:1,storeName:"game"})}var t,n,r,o,i,a;return t=e,(n=[{key:"loading",get:function(){return this._loading}},{key:"load",value:(a=mr(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._loading=!0,e.next=3,Promise.all([hr().getItem("playerConfig"),hr().getItem("levelConfigs")]);case 3:t=e.sent,n=yr(t,2),r=n[0],o=n[1],r&&(i=r,We=Ze(Ze({},We),i)),o&&(Ge=o),this._loading=!1;case 10:case"end":return e.stop()}var i}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"save",value:(i=mr(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([hr().setItem("playerConfig",We),hr().setItem("levelConfigs",Ge)]);case 2:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"reset",value:(o=mr(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([hr().setItem("playerConfig",null),hr().setItem("levelConfigs",null)]);case 2:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}])&&gr(t.prototype,n),r&&gr(t,r),e}();function wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Or(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xr(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pr(e,t){return(Pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Br(e);if(t){var o=Br(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr(this,n)}}function Hr(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Rr(e):t}function Rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pr(e,t)}(s,e);var t,n,i,a,u,c=jr(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),Cr(Rr(e=c.call(this,{resolution:window.devicePixelRatio||1,sharedTicker:!0})),"_assetsLoader",void 0),Cr(Rr(e),"_localForage",void 0),Cr(Rr(e),"_baseBounds",void 0),Cr(Rr(e),"_viewBounds",void 0),Cr(Rr(e),"_viewScale",void 0),Cr(Rr(e),"_revealed",!1),Cr(Rr(e),"_interaction",!1),Cr(Rr(e),"_manifest",zn),d.vB.shared.maxFPS=60,e._addErrorEventCallback(),e._addReadyEventCallback(),e}return t=s,(n=[{key:"baseBounds",get:function(){return this._baseBounds}},{key:"viewBounds",get:function(){return this._viewBounds}},{key:"viewScale",get:function(){return this._viewScale}},{key:"interaction",get:function(){return this._interaction}},{key:"size",get:function(){return this._manifest.size}},{key:"screenSize",get:function(){return{height:document.body.clientHeight,width:document.body.clientWidth}}},{key:"saveConfigs",value:function(){this._localForage.save()}},{key:"resetConfigs",value:function(){this._localForage.reset()}},{key:"updateConfigs",value:function(){o.q.event.emit(r.configsUpdate)}},{key:"_onResize",value:function(){this._resizeCanvas(),this._resizeRenderer(),this._calculateTransform(),o.q.event.emit(r.resize,this.screenSize)}},{key:"_onFirstInteraction",value:function(){this._interaction=!0,o.q.event.emit(r.firstInteraction)}},{key:"_resume",value:function(){var e=d.vB.shared;!e.started&&e.start(),Vn.p8.ticker.wake(),o.q.event.emit(r.resume)}},{key:"_pause",value:function(){var e=d.vB.shared;e.started&&e.stop(),Vn.p8.ticker.sleep(),o.q.event.emit(r.pause)}},{key:"_addErrorEventCallback",value:function(){var e=this;window.addEventListener("error",(function(t){var n=t.message+", url="+t.target+", line="+t.lineno;t.colno&&(n+=", column="+t.colno),t.error&&(n+=", error="+JSON.stringify(t.error)),e._onError(n)}))}},{key:"_onError",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}},{key:"_addReadyEventCallback",value:function(){var e=this;window.addEventListener("DOMContentLoaded",(function(){return e._onDOMContentLoaded()}))}},{key:"_onDOMContentLoaded",value:function(){this._init(),this._addVisibleChangeCallback(),this._addResizeCallback(),this._addFirstInteractionCallback()}},{key:"_addVisibleChangeCallback",value:function(){var e,t,n=this;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange");var r=function(){return!document[e]};document.addEventListener(t,(function(){return n._onVisibilityChange(r())}),!1),this._onVisibilityChange(r())}},{key:"_onVisibilityChange",value:function(e){this._revealed?e?this._resume():this._pause():this._reveal(e)}},{key:"_addResizeCallback",value:function(){var e=this;window.addEventListener("resize",(function(){return e._onResize()}))}},{key:"_addFirstInteractionCallback",value:function(){var e=this,t=function t(){window.removeEventListener("touchstart",t),window.removeEventListener("mousedown",t),e._interaction=!0,v((function(){return e._onFirstInteraction()}))};window.addEventListener("touchstart",t),window.addEventListener("mousedown",t)}},{key:"_reveal",value:function(e){e&&(this._revealed=!0,this._onResize(),this._assetsLoader&&!this._assetsLoader.loading&&this._localForage&&!this._localForage.loading&&this._start())}},{key:"_init",value:function(){var e=document.getElementById("canvas"),t=this.view;t.classList.add("game"),e.appendChild(t),o.q.event.emit(r.init),this._preload()}},{key:"_preload",value:(a=regeneratorRuntime.mark((function e(){var t,n,i,a,u,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.q.event.emit(r.preload),e.prev=1,this._assetsLoader=new pr,this._localForage=new _r,t=this._assetsLoader.load((function(e){return c._onAssetsLoadProgress(e)})),n=this._localForage.load(),e.next=8,Promise.all([t,n]);case 8:i=e.sent,a=wr(i,1),u=a[0],this._onAssetsLoaded(u),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop()}}),e,this,[[1,14]])})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){xr(o,n,r,i,u,"next",e)}function u(e){xr(o,n,r,i,u,"throw",e)}i(void 0)}))},function(){return u.apply(this,arguments)})},{key:"_start",value:function(){o.q.event.emit(r.start),this.view.classList.add("fadeIn")}},{key:"_onAssetsLoadProgress",value:function(e){o.q.event.emit(r.loadProgress,e)}},{key:"_onAssetsLoaded",value:function(e){o.q.event.emit(r.load,e),this._revealed&&this._start()}},{key:"_resizeCanvas",value:function(){var e=this.renderer.view.style,t=this.screenSize,n=t.width,r=t.height;e.width=`${n}px`,e.height=`${r}px`}},{key:"_resizeRenderer",value:function(){var e=this.screenSize,t=e.width,n=e.height;this.renderer.resize(t,n)}},{key:"_calculateTransform",value:function(){this._baseBounds=this._getBaseBounds(),this._viewScale=this._getViewScale(),this._viewBounds=this._getViewBounds()}},{key:"_getBaseBounds",value:function(){var e=this._manifest.size,t=h(e.landscape,e.portrait),n=t.width,r=t.height;return new f.Ae(0,0,n,r)}},{key:"_getViewScale",value:function(){var e=this.baseBounds,t=e.width,n=e.height,r=this.renderer.screen,o=r.width,i=r.height;return Math.min(o/t,i/n)}},{key:"_getViewBounds",value:function(){var e=this.viewScale,t=this.renderer.screen,n=t.x,r=t.y,o=t.width,i=t.height;return new f.Ae(n,r,o/e,i/e)}}])&&kr(t.prototype,n),i&&kr(t,i),s}(An.M);window.Game=Er,o.q.command.on(r.init,Mn)},7509:function(e,t,n){var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"",""]),o.locals={families:'""'},t.Z=o},5970:function(e,t,n){var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"body,canvas,html{user-select:none}*{padding:0;margin:0}body,html{width:100%;height:100%;overflow:hidden;background:#945d5d}.game{position:absolute;left:0;top:0;cursor:default !important}.fadeIn{opacity:1;transition:opacity .5s}.fadeOut{opacity:0;transition:opacity .5s}.levels{height:600px;overflow:scroll}",""]),o.locals={},t.Z=o},8299:function(e,t,n){var r=n(3379),o=n.n(r),i=n(7509),a={insert:"head",singleton:!1};o()(i.Z,a);t.Z=i.Z.locals||{}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,e=[],r.O=function(t,n,o,i){if(!n){var a=1/0;for(s=0;s<e.length;s++){n=e[s][0],o=e[s][1],i=e[s][2];for(var u=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(u=!1,i<a&&(a=i));u&&(e.splice(s--,1),t=o())}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[n,o,i]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={917:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,a=n[0],u=n[1],c=n[2],s=0;for(o in u)r.o(u,o)&&(r.m[o]=u[o]);if(c)var l=c(r);for(t&&t(n);s<a.length;s++)i=a[s],r.o(e,i)&&e[i]&&e[i][0](),e[a[s]]=0;return r.O(l)},n=self.webpackChunkclicker=self.webpackChunkclicker||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[832],(function(){return r(6381)}));o=r.O(o)}();